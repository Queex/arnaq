<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Experiment-Aware Quality Control for RNA Sequencing • arnaq</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Experiment-Aware Quality Control for RNA Sequencing">
<meta property="og:description" content="Performs secondary quality control assessment of an RNA data set, incorporating 
    information about the experimental design, to enable an analyst to identify potential data 
    quality issues such as sample swaps, batch effects and failed samples. Produces an html report 
    and (optionally) print-quality svg versions of the plots therein.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">arnaq</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/all-plots.html">Structure of the all_plots list</a>
    </li>
    <li>
      <a href="articles/creating-example-reports.html">Creating Example Reports</a>
    </li>
    <li>
      <a href="articles/files-created.html">Files Created By ARNAQ</a>
    </li>
    <li>
      <a href="articles/objects-created.html">Objects Created By ARNAQ</a>
    </li>
    <li>
      <a href="articles/workflow.html">Typical ARNAQ Workflow</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="arnaq">ARNAQ<a class="anchor" aria-label="anchor" href="#arnaq"></a>
</h1></div>
<p>ARNAQ stands for <em>Analysts’ RNA QC</em>. ARNAQ is a tool for exploring RNA sequencing datasets, with an eye to differential expression or other analysis. It is designed to make reviewing the data and isolating potential QC issues as simple and swift as possible.</p>
<p>It is not a replacement for the first line QC performed by sequencing platforms and their associated tools; but instead to supplement them by considering experimental groups and allowing a more nuanced approach to potentially problematic samples than a simple pass/fail flag.</p>
<p>Analysts who handle a lot of RNA projects will benefit from being able to perform these QC steps more quickly, and will help avoid copy/paste scripts that are prone to errors where one line is not updated for the current project. The report contains descriptions of what the plots show, helping to present this work to collaborators who are less familiar with bioinformatics.</p>
<p>Investigators who have some familiarity with bioinformatics will benefit from shorter, clearer R scripts where they do not have to delve too deeply into the specifics of the packages used for this QC analysis, helping them be confident that the analysis they perform is reliable.</p>
<p>In both cases, the <code>.svg</code> export options the produces high quality print-ready plots that can be easily incorporated into papers.</p>
<p><em>ARNAQ is named in reference to the board game ‘Lost Ruins of Arnak’.</em></p>
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>The goal of ARNAQ is to make the process of producing a context-aware QC report as quick and error-free as possible, so analyst time can instead be spent elsewhere.</p>
<p>Metadata about the experiment (such as reference genome) and metadata about samples (such as group membership) is typically available outside R, and as such ARNAQ uses simple files for this information, which can either be generated by a pipeline or adapted from the files from a pipeline.</p>
<p>With these files created, the process for creating a report can be as simple as a single line:</p>
<pre><code><span><span class="fu"><a href="reference/arnaq.html">arnaq</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>The rationale is that the critical parameters for an analysis should not be buried inside a long list of R calls. By placing them in tables, and permitted automated generation as part of a pipeline, it is easy to visually check that the correct metadata is being used.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Full installation and post-installation instructions are <a href="installation/README.html">here</a>.</p>
</div>
<div class="section level2">
<h2 id="project-files">Project files<a class="anchor" aria-label="anchor" href="#project-files"></a>
</h2>
<p>ARNAQ requires metadata files for each project you run through it.</p>
<p>The first, <code>resources.yml</code>, contains metadata that applies to the project as a whole, including the names of data files that will be used to create ht report.</p>
<p>The second, the samples metadata file (<code>samples.txt</code> by default), contains metadata specific to each sample. This includes the name to use for the samples in the report (which may differ from that in the data files), and information on which experimental group(s) the sample belongs to.</p>
<div class="section level3">
<h3 id="resourcesyml">resources.yml<a class="anchor" aria-label="anchor" href="#resourcesyml"></a>
</h3>
<p>The entries for this file should be:</p>
<ul>
<li>
<strong>project_id</strong>: this is a name to use for the report, which will also be prepended to the files the script outputs.</li>
<li>
<strong>species</strong>: a species identifier, which will be listed in the report but not used for any</li>
<li>processing. This can be a more presentation-ready equivalent of <code>genome_reference</code>, next.</li>
<li>
<strong>genome_reference</strong>: the directory name containing the <code>.gtf</code> file with gene definitions. See below for how to set this.</li>
<li>
<strong>count_table</strong>: this is the location of the count table file.</li>
<li>
<strong>summary_table</strong>: this is the location of the read assignment summary, generated by featureCounts or similar tool. If listed as ‘None’, it is assumed that this data is unavailable and the report will be produced without that section.</li>
<li>
<strong>duplication_table</strong>: this is the location of a table of duplication rates by sample. If listed as ‘None’, it is assumed to be unavailable.</li>
<li>
<strong>metrics_table</strong>: this is the location of the Picard metrics file. If listed as ‘None’, it is assumed to be unavailable.</li>
<li>
<strong>resource_dir</strong>: is the parent directory for all genome references, as described below.</li>
<li>
<strong>report_template</strong>: this is a path to an rmarkdown template used to build the report. The default of <code>INTERNAL</code> will use the standard report in the ARNAQ package. You only need to change this if you intend to alter the template.</li>
<li>
<strong>biotype_conversion</strong>: the location of a table that maps the full list of Ensembl biotypes to a smaller number of categories, in order to keep the associated plots in the report readable. The default of <code>INTERNAL</code> will use the standard table included in the ARNAQ package.</li>
<li>
<strong>ercc_concentrations</strong>: the location of a table of data regarding concentrations of ERCC spike-ins in the two different mixes, used for QC plots to test accurate detection of those spike-ins. This is only needed if you are using ERCC spike-in features of ARNAQ.</li>
</ul>
</div>
<div class="section level3">
<h3 id="sample-metadata-file">Sample metadata file<a class="anchor" aria-label="anchor" href="#sample-metadata-file"></a>
</h3>
<p>This file contains metadata about specific samples in a project.</p>
<ul>
<li>
<strong>Fastq</strong>: Unused by this tool; but can be used to store the original filenames for each sample, or some other early identifier. If in doubt, this can be left the same as the next column.</li>
<li>
<strong>Name</strong>: identifiers for samples, that correspond to the column names in the count table and other data files.</li>
<li>
<strong>Display</strong>: names for the samples to display in the QC document. This can be identical to the Name column or you can give samples more readable names.</li>
<li>Any number of additional columns, where each column is one set of groups samples can belong to. This group information will be used in the report. Group names should not start with a number. Numerical data will not be handled correctly by ARNAQ; but you can include these columns anyway as long as you use the <code>treat.groups</code> parameter to only include factor-based metadata.</li>
</ul>
<p>The order of lines in this file does not matter; the <strong>Name</strong> column is used to assign the names and meta-data to the correct sample. The version of this table stored in the R session will be sorted to match the columns of the count data.</p>
</div>
</div>
<div class="section level2">
<h2 id="vignettes">Vignettes<a class="anchor" aria-label="anchor" href="#vignettes"></a>
</h2>
<ul>
<li>Description of the typical <a href="articles/workflow.html">workflow</a> for ARNAQ.</li>
<li>
<a href="articles/creating-example-reports.html">Examples</a> of report generation using included data.</li>
<li>A list of the <a href="articles/files-created.html">files created</a> during an ARNAQ run.</li>
<li>A list of the <a href="articles/objects-created.html">objects created</a> in the R session during an ARNAQ run.</li>
<li>The structure of the <a href="articles/all-plots.Rmd">all.plots</a> object, to enable fine-tuning of ARNAQ’s plots.</li>
</ul>
</div>
<div class="section level2">
<h2 id="example-reports">Example reports<a class="anchor" aria-label="anchor" href="#example-reports"></a>
</h2>
<p>Copies of the example reports generated by the <code>Creating Example Reports</code> vignette are viewable using a proxy service:</p>
<ul>
<li><a href="https://htmlpreview.github.io/?https://github.com/queex/arnaq/vignettes/GSE155423-arnaq.html" class="external-link">Full report</a></li>
<li><a href="https://htmlpreview.github.io/?https://github.com/queex/arnaq/vignettes/GSE155423-D10-D15-wo-outliers-arnaq.html" class="external-link">Report on a subset of samples</a></li>
<li><a href="https://htmlpreview.github.io/?https://github.com/queex/arnaq/vignettes/GSE155423-alt-PCA-arnaq.html" class="external-link">Report with alternative PCA</a></li>
<li><a href="https://htmlpreview.github.io/?https://github.com/queex/arnaq/vignettes/GSE155423-linear-arnaq.html" class="external-link">Report with linear normalisation</a></li>
<li><a href="vignettes/GSE155423-scatter-arnaq.html">Report with sample-to-sample scatterplots</a></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="TODO">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing arnaq</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by .</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
